---

- name: start firewalld service
  become: true
  service:
    name: firewalld
    state: started

- name: start httpd service
  become: true
  service:
    name: httpd
    state: started

- name: add HTTP service
  firewalld:
    service: "{{ item }}"
    permanent: yes
    zone: public
    state: enabled
  loop:
    - http
    - https

- name: selinux configuration
  become: true
  shell: restorecon -FR /var/www/html/mediawiki
  notify: service restart

- name: restart firewalld
  become: true
  service:
    name: firewalld
    state: restarted